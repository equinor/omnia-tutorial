trigger:
- master

pool:
  vmImage: 'ubuntu-latest'

steps:
- task: UsePythonVersion@0
  displayName: 'Use Python 3.6'
  inputs:
    versionSpec: 3.6

- bash: |
   pip install hovercraft
  displayName: 'Bash - Setup'

- bash: |
   cd docs/presentations/
   hovercraft introduction.rst output
  displayName: 'Bash - run hovercraft'

- task: PublishBuildArtifacts@1
  inputs:
    PathtoPublish: '$(System.DefaultWorkingDirectory)/docs/presentations/output'
    artifactName: 'drop'

# Copy files to Azure Blob Storage or virtual machines
- task: AzureFileCopy@3
  inputs:
    sourcePath: '$(System.DefaultWorkingDirectory)/docs/presentations/output'
    azureSubscription: AzureServiceConnection
    destination: AzureBlob
    storage: mhewstoragev2
    containerName: '$web'
    copyFilesInParallel: true
    cleanTargetBeforeCopy: true
